<div class="w-screen h-screen bg-white md:bg-gray-50 relative">
  <div class="relative w-full sm:w-7/12 md:w-6/12 lg:w-4/12 m-auto">
    <div class="bg-white rounded sm:shadow-lg py-4 px-4 md:px-9">
      <div class="mb-4">
        @if (!showRegister) {
        <div>
          <h1 class="text-center font-bold py-2 text-gray-700">
            Enter your data
          </h1>
          <form
            [formGroup]="formUser"
            novalidate
            class="space-y-4"
            (ngSubmit)="validateUser()"
          >
            <div>
              <div class="relative">
                <input
                  formControlName="email"
                  placeholder="Enter email"
                  type="email"
                  name="email"
                  autocomplete="off"
                  class="w-full rounded bg-gray-100 border-gray-300 border-2"
                />
              </div>
              @if ( formUser.controls['email'].touched &&
              formUser.controls['email'].invalid ) {
              <div>
                @if (formUser.controls['email'].hasError('required')) {
                <p class="font-medium text-red-500 text-xs mt-1 ml-1">
                  This field is mandatory
                </p>
                } @if (formUser.controls['email'].hasError('email')) {
                <p class="font-medium text-red-500 text-xs mt-1 ml-1">
                  This field should be a email
                </p>
                }
              </div>
              }
            </div>
            <div>
              <app-button
                typeButton="submit"
                color="success"
                [loading]="statusUser === 'loading'"
                >Continue</app-button
              >
            </div>
          </form>
        </div>
        } @if (showRegister) {
        <div>
          <h1 class="text-center font-bold py-2 text-gray-700">
            Enter your data
          </h1>
          <form
            [formGroup]="form"
            novalidate
            class="space-y-4"
            (ngSubmit)="signUpUser()"
          >
            <div>
              <div class="relative">
                <input
                  formControlName="name"
                  placeholder="Enter your name"
                  type="text"
                  name="name"
                  class="w-full rounded bg-gray-100 border-gray-300 border-2"
                />
              </div>
              @if (form.controls['name'].touched &&
              form.controls['name'].invalid) {
              <div>
                @if (form.controls['name'].hasError('required')) {
                <p class="font-medium text-red-500 text-xs mt-1 ml-1">
                  This field is mandatory
                </p>
                }
              </div>
              }
            </div>
            <div>
              <div class="relative">
                <input
                  #nameInput
                  formControlName="email"
                  placeholder="Enter email"
                  type="email"
                  name="email"
                  autocomplete="off"
                  class="w-full rounded bg-gray-100 border-gray-300 border-2"
                />
              </div>
              @if ( form.controls['email'].touched &&
              form.controls['email'].invalid ) {
              <div>
                @if (form.controls['email'].hasError('required')) {
                <p class="font-medium text-red-500 text-xs mt-1 ml-1">
                  This field is mandatory
                </p>
                } @if (form.controls['email'].hasError('email')) {
                <p class="font-medium text-red-500 text-xs mt-1 ml-1">
                  This field should be a email
                </p>
                }
              </div>
              }
            </div>
            <div>
              <div class="relative">
                <input
                  formControlName="password"
                  placeholder="Enter password"
                  [type]="showPassword ? 'text' : 'password'"
                  class="w-full rounded bg-gray-100 border-gray-300 border-2"
                />
                <button
                  type="button"
                  class="p-2 absolute right-2"
                  (click)="showPassword = !showPassword"
                >
                  <fa-icon [icon]="showPassword ? faEye : faEyeSlash"></fa-icon>
                </button>
              </div>
              @if ( form.controls['password'].touched &&
              form.controls['password'].invalid ) {
              <div>
                @if (form.controls['password'].hasError('required')) {
                <p class="font-medium text-red-500 text-xs mt-1 ml-1">
                  This field is mandatory
                </p>
                } @if (form.controls['password'].hasError('minlength')) {
                <p class="font-medium text-red-500 text-xs mt-1 ml-1">
                  This field should be greater than 8 characters
                </p>
                }
              </div>
              }
            </div>
            <div>
              <div class="relative">
                <input
                  formControlName="confirmPassword"
                  placeholder="Confirm password"
                  type="password"
                  class="w-full rounded bg-gray-100 border-gray-300 border-2"
                />
              </div>
              @if ( form.controls['confirmPassword'].touched &&
              form.controls['confirmPassword'].invalid ) {
              <div>
                @if (form.controls['confirmPassword'].hasError('required')) {
                <p class="font-medium text-red-500 text-xs mt-1 ml-1">
                  This field is mandatory
                </p>
                } @if (form.controls['confirmPassword'].hasError('minlength')) {
                <p class="font-medium text-red-500 text-xs mt-1 ml-1">
                  This field should be greater than 6 characters
                </p>
                }
              </div>
              }
            </div>
            @if (form.controls['confirmPassword'].touched) {
            <div>
              @if (form.hasError('mismatch')) {
              <p class="font-medium text-red-500 text-xs mt-1 ml-1">
                The password are not the same
              </p>
              }
            </div>
            }
            <div>
              <app-button
                typeButton="submit"
                color="success"
                [loading]="status === 'loading'"
                >Register</app-button
              >
            </div>
          </form>
        </div>
        }
      </div>
      <hr class="my-4 border-b-1 border-r-gray-300" />
      <div
        class="flex justify-center items-center space-x-0 space-y-2 md:space-x-2 md:space-y-0 flex-col md:flex-row"
      >
        <a routerLink="/login" class="text-blue-600">Return to log in</a>
      </div>
    </div>
  </div>
</div>
